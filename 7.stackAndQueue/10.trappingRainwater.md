

<img src="https://github.com/user-attachments/assets/14d958bd-c438-4180-acbc-9a94bbc5f91a" width=400 height=400>

<img src="https://github.com/user-attachments/assets/547d35e7-22fb-4e48-8161-d126d646ac4b" width=400 height=400>

```ts
function trapRainwater(arr: number[]){
    const preMax = new Array(arr.length)
    const sufMax = new Array(arr.length)
    preMax[0] = arr[0]
    sufMax[arr.length-1] = arr[arr.length-1]
    for(let i = 1; i < arr.length; i++){
        preMax[i] = Math.max(preMax[i-1], arr[i])
    }

    for(let i = arr.length-2; i >= 0; i--){
        sufMax[i] = Math.max(sufMax[i+1], arr[i])
    }

    let trappedWater = 0;
    for(let i = 0; i < arr.length; i++){
        let leftMax = preMax[i]
        let rightMax = sufMax[i]
        if(arr[i] < leftMax && arr[i] < rightMax){
            trappedWater += Math.min(leftMax, rightMax) - arr[i]
        }
    }

    return trappedWater
}

export function Call_trapRainwater(){
    const arr = [0,1,0,2,0,3,0,1,0,2,1]

    console.log(trapRainwater(arr)) // 8
}
```
